---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
import globalData from '../data/global.json';
---

<Layout title="Pol√≠tica de Cookies">
	<main>
		<div class="flex flex-col mx-auto max-w-screen-2xl px-4 sm:px-6 md:px-8 py-2 space-y-2">

			<!-- Hero Section con Comillas y Imagen -->
			<div class="rounded-lg p-3 md:p-6">
				<div class="grid md:grid-cols-2 gap-8 items-center">
					<!-- Columna Izquierda: Texto -->
					<div class="relative">
						<h1 class="font-bold text-3xl sm:text-4xl md:text-5xl text-black mb-4 relative z-10 text-center">
							<!-- Comilla de Inicio -->
							<img src="/img/quote.svg" alt="" class="absolute -top-2 -left-10 w-10 opacity-40 z-0 pointer-events-none sm:-left-12 sm:w-12 md:-top-3 md:-left-14 md:w-14 lg:-left-16 lg:w-16" aria-hidden="true" />
							POL√çTICA DE COOKIES
							<!-- Comilla de Cierre -->
							<img src="/img/quote.svg" alt="" class="absolute -top-2 -right-10 w-10 opacity-40 z-0 pointer-events-none rotate-180 sm:-right-12 sm:w-12 md:-top-3 md:-right-14 md:w-14 lg:-right-16 lg:w-16" aria-hidden="true" />
						</h1>

						<p class="text-base sm:text-lg text-gray-800 leading-relaxed mb-6 mt-4">
							Solo utilizaremos cookies en tu dispositivo si nos das consentimientos para ello.
							Puedes aceptar, rechazar o revisar tu consentimiento en cualquier momento a trav√©s
							de nuestro panel de configuraci√≥n de cookies
						</p>

						<div class="flex flex-row gap-3">
							<button id="configure-cookies-btn" class="bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg border-2 border-gray-300 transition whitespace-nowrap">
								CONFIGURAR
							</button>
							<button id="exit-btn" class="bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg border-2 border-gray-300 transition whitespace-nowrap">
								SALIR
							</button>
						</div>
					</div>

					<!-- Columna Derecha: Imagen -->
					<div class="flex justify-center items-center">
						<img
							src="/img/cookies-b8ef7ed9493f2171760eabfd0925222b.webp"
							alt="Cookies"
							class="w-64 h-auto"
							loading="eager"
						/>
					</div>
				</div>
			</div>

			<!-- √çndice de Navegaci√≥n -->
			<nav class="bg-white p-3">
				<ul class="space-y-1 text-blue-600">
					<li><a href="#quienes-somos" class="hover:underline">¬øQui√©nes somos?</a></li>
					<li><a href="#que-son-cookies" class="hover:underline">¬øQu√© son las cookies?</a></li>
					<li><a href="#informacion-consentimiento" class="hover:underline">Informaci√≥n y consentimiento</a></li>
					<li><a href="#cookies-utilizamos" class="hover:underline">Cookies que utilizamos</a></li>
					<li><a href="#cambiar-configuracion" class="hover:underline">¬øC√≥mo cambiar la configuraci√≥n de las cookies o revocar el consentimiento?</a></li>
				</ul>
			</nav>

			<!-- Secci√≥n 1: ¬øQui√©nes somos? -->
			<section id="quienes-somos" class="space-y-2">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					1. ¬øQui√©nes somos?
				</h2>
				<p class="text-base sm:text-lg text-gray-700 leading-relaxed p-3">
					Esta Pol√≠tica de Cookies es aplicable a la p√°gina web accesible a trav√©s del Sitio Web
					<a href={`https://${globalData.web_empresa}`} class="text-blue-600 hover:underline">https://{globalData.web_empresa}</a>,
					la cual es titularidad de <strong>{globalData.nombre_empresa}</strong>,
					con domicilio social en {globalData.direccion_empresa},
					provista de C.I.F. {globalData.cif_empresa}.
					Para cualquier consulta puede contactarnos en <a href={`mailto:${globalData.email_empresa}`} class="text-blue-600 hover:underline">{globalData.email_empresa}</a>.
				</p>
			</section>

			<!-- Secci√≥n 2: ¬øQu√© son las cookies? -->
			<section id="que-son-cookies" class="space-y-2">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					2. ¬øQu√© son las cookies?
				</h2>
				<div class="p-3 space-y-4">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Las cookies son peque√±os archivos de datos que se descargan en tu terminal desde el que accedas al Sitio Web y sirven para registrar ciertas interacciones de la navegaci√≥n en el mismo, as√≠ como para almacenar y recuperar informaci√≥n sobre el uso del Sitio Web siendo utilizadas, entre otras cosas, para mejorar la calidad del Sitio Web y ofrecerte una mejor experiencia de usuario. Estos archivos se almacenan en el ordenador o terminal del usuario y contienen informaci√≥n, generalmente an√≥nima que no es perjudicial para tu equipo. Se utilizan, por ejemplo, para recordar tus preferencias cuando vuelves a entrar en ese sitio web, como el idioma seleccionado en una navegaci√≥n anterior, datos de acceso o personalizaci√≥n de la p√°gina.
					</p>
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Las cookies tambi√©n pueden ser utilizadas para registrar informaci√≥n an√≥nima acerca de c√≥mo un visitante utiliza una p√°gina web. Por ejemplo, desde qu√© otra p√°gina web ha accedido, o si ha utilizado un "banner" publicitario para llegar a ella.
					</p>

					<!-- Secci√≥n destacada "DICHO DE OTRA MANERA" -->
					<div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
						<h3 class="font-bold text-base text-gray-900 mb-2">DICHO DE OTRA MANERA...</h3>
						<p class="text-sm text-gray-800 leading-relaxed">
							Cuando das tu consentimiento para utilizar cookies est√°s agilizando tu uso de la web, guardando tus preferencias para que no tengas que recordarlas t√∫, y personalizando tu experiencia para mostrarte las cosas que de verdad te interesan.
						</p>
					</div>
				</div>
			</section>

			<!-- Secci√≥n 3: Informaci√≥n y consentimiento -->
			<section id="informacion-consentimiento" class="space-y-2">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					3. Informaci√≥n y consentimiento
				</h2>
				<div class="p-3 space-y-4">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Al acceder al Sitio Web te ofrecemos cierta informaci√≥n sobre el uso de esta tecnolog√≠a a trav√©s del dispositivo o equipo que utilices para ello, solicit√°ndote tu consentimiento para utilizar nuestras cookies.
					</p>
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Ten en cuenta que algunas de las cookies que utilizamos pueden ser necesarias para que nuestro sitio web funcione correctamente y que no pueden denegarse, ya que, podr√≠as tener problemas para acceder o utilizar nuestro sitio web correctamente. Con respecto al resto de cookies, por medio del sistema o panel de configuraci√≥n, puedes elegir entre aceptar o rechazar todas las cookies o hacerlo de forma granular y administrar tus preferencias.
					</p>
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Asimismo, puedes retirar tu consentimiento al uso de cookies en cualquier momento a trav√©s de la configuraci√≥n de tu navegador o cambiando tus preferencias en el panel de configuraci√≥n.
					</p>
				</div>
			</section>

			<!-- Panel de Configuraci√≥n Granular -->
			<section id="cookies-utilizamos" class="space-y-2">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					4. Cookies que utilizamos
				</h2>

				<div class="p-3 space-y-4">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Utilizamos las cookies estrictamente necesarias y esenciales para analizar nuestros servicios y/o mostrarte publicidad personalizada en base a un perfil elaborado a partir de tus h√°bitos de navegaci√≥n en el Sitio Web, utilizando √°reas seguras, opciones personalizadas, etc.
					</p>

					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						En concreto, y seg√∫n la entidad, su duraci√≥n y su finalidad, {globalData.nombre_empresa} utiliza en el Sitio Web los siguientes tipos de cookies:
					</p>

					<!-- En funci√≥n de la entidad que las gestione -->
					<div class="bg-white border border-gray-300 rounded-lg p-3 shadow-sm">
						<h3 class="font-bold text-xl text-gray-900 mb-4">En funci√≥n de la entidad que las gestione:</h3>

						<div class="space-y-4">
							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies propias:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Son aquellas que se env√≠an al equipo terminal del usuario desde un equipo o dominio gestionado por el titular de la p√°gina web o editor y desde la que se presta el servicio solicitado por el usuario.
								</p>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies de tercero:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Son aquellas que se env√≠an al equipo terminal del usuario desde un equipo o dominio que no es gestionado por el editor, sino por otra entidad que trata los datos obtenidos a trav√©s de las cookies. En el caso de que las cookies sean servidas desde un equipo o dominio gestionado por el propio editor, pero la informaci√≥n que se recoja mediante estas sea gestionada por un tercero, no pueden ser consideradas como cookies propias si el tercero las utiliza para sus propias finalidades como la mejora de los servicios que presta o la prestaci√≥n de servicios de car√°cter publicitario a favor de otras entidades.
								</p>
							</div>
						</div>
					</div>

					<!-- En funci√≥n de su duraci√≥n -->
					<div class="bg-white border border-gray-300 rounded-lg p-3 shadow-sm">
						<h3 class="font-bold text-xl text-gray-900 mb-4">En funci√≥n de su duraci√≥n:</h3>

						<div class="space-y-4">
							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies de sesi√≥n:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Son aquellas cookies temporales que ser√°n almacenadas en el navegador hasta que se abandone la p√°gina web.
								</p>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies persistentes:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Estas cookies se almacenan en el equipo hasta su fecha de expiraci√≥n, que puede variar en funci√≥n de la cookie concreta, y se leen cuando el usuario accede a nuestra p√°gina.
								</p>
							</div>
						</div>
					</div>

					<!-- En funci√≥n de su finalidad -->
					<div class="bg-white border border-gray-300 rounded-lg p-3 shadow-sm">
						<h3 class="font-bold text-xl text-gray-900 mb-4">En funci√≥n de su finalidad:</h3>

						<div class="space-y-4">
							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies t√©cnicas o necesarias:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Son aquellas que permiten la gesti√≥n operativa de la web y la habilitaci√≥n de sus funciones y servicios, garantizado el correcto funcionamiento del Sitio Web y sus elementos, as√≠ como la seguridad del mismo. Estas cookies sirven por ejemplo, para mantener la sesi√≥n, gestionar el tiempo de respuesta, etc.
								</p>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies de preferencias o personalizaci√≥n:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Permiten recordar la informaci√≥n relevante para poder diferenciar a los usuarios y ofrecerles una experiencia personal, as√≠ como crear un perfil basado en sus h√°bitos de navegaci√≥n.
								</p>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies de an√°lisis o medici√≥n:</h4>
								<p class="text-base text-gray-700 leading-relaxed mb-3">
									Permiten el seguimiento y an√°lisis del comportamiento de los usuarios del Sitio web de forma estad√≠stica, incluyendo la cuantificaci√≥n de los impactos de los anuncios.
								</p>

								<!-- Secci√≥n destacada "LAS COOKIES DE AN√ÅLISIS" -->
								<div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
									<h5 class="font-bold text-base text-gray-900 mb-2">LAS COOKIES DE AN√ÅLISIS...</h5>
									<p class="text-sm text-gray-800 leading-relaxed">
										Nos ayudan a saber las cosas que estamos haciendo bien, los intereses de los usuarios, y tambi√©n los errores que debemos arreglar para mejorar el servicio que ofrecemos.
									</p>
								</div>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies publicitarias o de marketing:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Permiten la gesti√≥n de los espacios publicitarios existentes en una p√°gina en base a criterios como el contenido editado o la frecuencia en la que se muestran los anuncios.
								</p>
							</div>

							<div>
								<h4 class="font-semibold text-lg text-gray-800 mb-2">Cookies de publicidad comportamental:</h4>
								<p class="text-base text-gray-700 leading-relaxed">
									Permiten la gesti√≥n de los espacios publicitarios existentes en la p√°gina de manera que a cada Usuario se le ofrezca contenido publicitario acorde a sus h√°bitos de navegaci√≥n y a sus preferencias, as√≠ como otra informaci√≥n que facilite durante la navegaci√≥n.
								</p>
							</div>
						</div>
					</div>

					<p class="text-base sm:text-lg text-gray-700 leading-relaxed font-semibold">
						En el caso de que optes por no aceptar las cookies, no descargaremos ninguna, salvo las cookies t√©cnicas, ya que son necesarias para el correcto funcionamiento del Sitio Web.
					</p>
				</div>
			</section>

			<!-- Secci√≥n 5: Nuestras cookies -->
			<section class="mb-4">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 mb-3 border-b-2 border-gray-300 pb-2">
					5. Nuestras cookies
				</h2>
				<div class="p-3">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						A continuaci√≥n te facilitamos un listado que incluye las cookies que utilizamos en el Sitio Web indicando el tipo, origen, finalidad y un enlace para que puedas acceder a los distintos sitios web de procedencia.
					</p>
				</div>
				<div class="overflow-x-auto">
					<table class="border-collapse border border-slate-500 w-full text-sm sm:text-base">
						<thead>
							<tr>
								<th class="border border-slate-700 p-2">Cookie</th>
								<th class="border border-slate-700 p-2">Tipo</th>
								<th class="border border-slate-700 p-2">Titular</th>
								<th class="border border-slate-700 p-2">Finalidad</th>
								<th class="border border-slate-700 p-2">Duraci√≥n</th>
								<th class="border border-slate-700 p-2">Base Legal</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="border border-slate-700 p-2 text-center font-semibold" colspan="6">Necesarias</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">cookielawinfo-checkbox-*</td>
								<td class="border border-slate-700 p-2">T√©cnica</td>
								<td class="border border-slate-700 p-2">Propia</td>
								<td class="border border-slate-700 p-2">Gesti√≥n consentimiento</td>
								<td class="border border-slate-700 p-2">1 a√±o</td>
								<td class="border border-slate-700 p-2">Inter√©s leg√≠timo</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">PHPSESSID</td>
								<td class="border border-slate-700 p-2">T√©cnica</td>
								<td class="border border-slate-700 p-2">Propia</td>
								<td class="border border-slate-700 p-2">Sesi√≥n de usuario</td>
								<td class="border border-slate-700 p-2">Sesi√≥n</td>
								<td class="border border-slate-700 p-2">Ejecuci√≥n contrato</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2 text-center font-semibold" colspan="6">Anal√≠ticas</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">_ga</td>
								<td class="border border-slate-700 p-2">Anal√≠tica</td>
								<td class="border border-slate-700 p-2">Google</td>
								<td class="border border-slate-700 p-2">Analytics an√≥nimo</td>
								<td class="border border-slate-700 p-2">2 a√±os</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">_gid</td>
								<td class="border border-slate-700 p-2">Anal√≠tica</td>
								<td class="border border-slate-700 p-2">Google</td>
								<td class="border border-slate-700 p-2">Analytics sesi√≥n</td>
								<td class="border border-slate-700 p-2">1 d√≠a</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">_gat</td>
								<td class="border border-slate-700 p-2">Anal√≠tica</td>
								<td class="border border-slate-700 p-2">Google</td>
								<td class="border border-slate-700 p-2">Limitaci√≥n peticiones</td>
								<td class="border border-slate-700 p-2">1 min</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2 text-center font-semibold" colspan="6">Publicidad</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">_fbp</td>
								<td class="border border-slate-700 p-2">Publicidad</td>
								<td class="border border-slate-700 p-2">Meta</td>
								<td class="border border-slate-700 p-2">Publicidad Facebook</td>
								<td class="border border-slate-700 p-2">2 meses</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">fr</td>
								<td class="border border-slate-700 p-2">Publicidad</td>
								<td class="border border-slate-700 p-2">Meta</td>
								<td class="border border-slate-700 p-2">Publicidad y medici√≥n</td>
								<td class="border border-slate-700 p-2">2 meses</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
							<tr>
								<td class="border border-slate-700 p-2">NID</td>
								<td class="border border-slate-700 p-2">Publicidad</td>
								<td class="border border-slate-700 p-2">Google</td>
								<td class="border border-slate-700 p-2">Publicidad personalizada</td>
								<td class="border border-slate-700 p-2">6 meses</td>
								<td class="border border-slate-700 p-2">Consentimiento</td>
							</tr>
						</tbody>
					</table>
				</div>
			</section>

			<!-- Secci√≥n 6: Gesti√≥n del Consentimiento -->
			<section id="cambiar-configuracion" class="space-y-2 mb-4">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					6. ¬øC√≥mo cambiar la configuraci√≥n de las cookies o revocar el consentimiento?
				</h2>
				<div class="p-3 space-y-4">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						Puede gestionar sus preferencias en cualquier momento accediendo a nuestro
						<strong>Panel de Configuraci√≥n de Cookies</strong> disponible en esta p√°gina haciendo clic en el bot√≥n "CONFIGURAR".
					</p>

					<p class="text-base sm:text-lg text-gray-700 leading-relaxed">
						El consentimiento tendr√° una duraci√≥n m√°xima de <strong>24 meses</strong>, tras los cuales se le solicitar√°
						renovarlo. Puede revocar su consentimiento en cualquier momento mediante las opciones de
						configuraci√≥n o eliminando las cookies desde su navegador.
					</p>

					<!-- Subsecci√≥n: ¬øQu√© pasa si bloqueo las cookies? -->
					<div class="bg-white border border-gray-300 rounded-lg p-3 shadow-sm">
						<h3 class="font-bold text-xl text-gray-900 mb-4">¬øQu√© pasa si bloqueo o rechazo las cookies?</h3>

						<div class="space-y-4">
							<p class="text-base text-gray-700 leading-relaxed">
								Si decides bloquear o rechazar las cookies, debes tener en cuenta las siguientes consecuencias:
							</p>

							<div class="space-y-3">
								<div class="flex items-start gap-3">
									<span class="text-green-600 font-bold text-xl mt-1">‚úì</span>
									<div>
										<h4 class="font-semibold text-gray-800 mb-1">Cookies t√©cnicas o necesarias:</h4>
										<p class="text-base text-gray-700">
											<strong>No se pueden bloquear.</strong> Son imprescindibles para el funcionamiento b√°sico del sitio web. Sin ellas, no podr√°s navegar correctamente, acceder a √°reas seguras, o utilizar funciones esenciales como el carrito de compra o el proceso de contrataci√≥n.
										</p>
									</div>
								</div>

								<div class="flex items-start gap-3">
									<span class="text-yellow-600 font-bold text-xl mt-1">‚ö†</span>
									<div>
										<h4 class="font-semibold text-gray-800 mb-1">Cookies anal√≠ticas:</h4>
										<p class="text-base text-gray-700">
											Si las bloqueas, no podremos analizar c√≥mo utilizas nuestro sitio web, lo que nos impedir√° mejorar la experiencia de usuario y detectar problemas t√©cnicos. Tu navegaci√≥n seguir√° siendo funcional, pero no contribuir√°s a la mejora del servicio.
										</p>
									</div>
								</div>

								<div class="flex items-start gap-3">
									<span class="text-blue-600 font-bold text-xl mt-1">‚Ñπ</span>
									<div>
										<h4 class="font-semibold text-gray-800 mb-1">Cookies de publicidad:</h4>
										<p class="text-base text-gray-700">
											Si las rechazas, seguir√°s viendo publicidad, pero esta no estar√° personalizada seg√∫n tus intereses. Ver√°s anuncios gen√©ricos que pueden no ser relevantes para ti. Adem√°s, es posible que veas el mismo anuncio repetidamente.
										</p>
									</div>
								</div>

								<div class="flex items-start gap-3">
									<span class="text-purple-600 font-bold text-xl mt-1">‚öô</span>
									<div>
										<h4 class="font-semibold text-gray-800 mb-1">Cookies de preferencias:</h4>
										<p class="text-base text-gray-700">
											Si las bloqueas, el sitio web no recordar√° tus preferencias (idioma, regi√≥n, configuraciones personalizadas), por lo que tendr√°s que configurarlas cada vez que visites la p√°gina.
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!-- Advertencia importante -->
					<div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
						<p class="text-sm text-gray-800 leading-relaxed">
							<strong>‚ö†Ô∏è Importante:</strong> Si rechaza las cookies no t√©cnicas, algunas funcionalidades del sitio
							pueden verse limitadas, pero el sitio web seguir√° siendo accesible y funcional para las operaciones b√°sicas.
						</p>
					</div>

					<!-- Nota sobre la configuraci√≥n del navegador -->
					<div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
						<p class="text-sm text-gray-800 leading-relaxed">
							<strong>üí° Nota:</strong> Tambi√©n puedes gestionar las cookies directamente desde la configuraci√≥n de tu navegador. Consulta la secci√≥n 8 de esta pol√≠tica para obtener instrucciones espec√≠ficas seg√∫n tu navegador.
						</p>
					</div>
				</div>
			</section>

			<!-- Secci√≥n 7: Derechos del Usuario -->
			<section class="space-y-2 mb-4">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					7. Derechos del Usuario
				</h2>
				<div class="p-3">
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed mb-4">
						De acuerdo con la LOPDGDD, tiene derecho a:
					</p>
					<ul class="list-disc pl-6 space-y-2 text-base sm:text-lg text-gray-700">
						<li><strong>Acceder</strong> a sus datos personales</li>
						<li><strong>Rectificar</strong> datos inexactos</li>
						<li><strong>Suprimir</strong> sus datos cuando ya no sean necesarios</li>
						<li><strong>Oponerse</strong> al tratamiento para fines de marketing</li>
						<li><strong>Portar</strong> sus datos a otro responsable</li>
					</ul>
					<p class="text-base sm:text-lg text-gray-700 leading-relaxed mt-4">
						Para ejercer estos derechos, contacte con nosotros:
						<a href={`mailto:${globalData.email_empresa}`} class="text-blue-600 hover:underline font-semibold">{globalData.email_empresa}</a>
					</p>
				</div>
			</section>

			<!-- Secci√≥n 8: Configuraci√≥n del Navegador -->
			<section class="space-y-3">
				<h2 class="font-bold text-2xl sm:text-3xl text-gray-800 border-b-2 border-gray-300 pb-2">
					8. C√≥mo Desactivar las Cookies desde su Navegador
				</h2>
				<div class="p-4">
					<p class="text-sm sm:text-base text-gray-700 mb-3">
						La mayor√≠a de los navegadores permiten configurar el uso de cookies. A continuaci√≥n,
						le indicamos los enlaces donde podr√° encontrar m√°s informaci√≥n:
					</p>
					<ul class="space-y-2 text-sm sm:text-base">
						<li>
							<strong>Chrome:</strong>
							<a href="https://www.google.es/intl/es/policies/technologies/managing/"
							   class="text-blue-600 hover:underline break-words"
							   target="_blank"
							   rel="noopener noreferrer">
								https://www.google.es/intl/es/policies/technologies/managing/
							</a>
						</li>
						<li>
							<strong>Firefox:</strong>
							<a href="http://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-que-lossitios-we"
							   class="text-blue-600 hover:underline break-words"
							   target="_blank"
							   rel="noopener noreferrer">
								http://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-que-lossitios-we
							</a>
						</li>
						<li>
							<strong>Safari:</strong>
							<a href="http://support.apple.com/kb/ph5042"
							   class="text-blue-600 hover:underline break-words"
							   target="_blank"
							   rel="noopener noreferrer">
								http://support.apple.com/kb/ph5042
							</a>
						</li>
						<li>
							<strong>Edge:</strong>
							<a href="https://support.microsoft.com/es-es/microsoft-edge/eliminar-las-cookies-en-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09"
							   class="text-blue-600 hover:underline break-words"
							   target="_blank"
							   rel="noopener noreferrer">
								https://support.microsoft.com/es-es/microsoft-edge/eliminar-las-cookies
							</a>
						</li>
					</ul>
					<div class="bg-blue-50 border-l-4 border-blue-500 p-3 mt-4">
						<p class="text-sm sm:text-base text-gray-700">
							<strong>Google Analytics:</strong> Si no desea ser rastreado por Google Analytics,
							puede instalar el complemento de inhabilitaci√≥n:
							<a href="https://tools.google.com/dlpage/gaoptout"
							   class="text-blue-600 hover:underline font-semibold"
							   target="_blank"
							   rel="noopener noreferrer">
								https://tools.google.com/dlpage/gaoptout
							</a>
						</p>
					</div>
				</div>
			</section>
		</div>
		<Footer/>
	</main>

	<!-- Modal de Configuraci√≥n de Cookies -->
	<div id="cookie-config-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
		<div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col">
			<!-- Header del Modal -->
			<div class="flex items-center gap-4 p-6 border-b border-gray-200">
				<div class="bg-yellow-400 p-2 rounded">
					<img src="/img/logo.png" alt={globalData.nombre_empresa} class="w-10 h-10 object-contain">
				</div>
				<h2 class="text-2xl font-bold text-gray-900">CONFIGURACI√ìN DE COOKIES</h2>
				<button id="close-modal-btn" class="ml-auto text-gray-400 hover:text-gray-600">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
					</svg>
				</button>
			</div>

			<!-- Contenido del Modal (scrollable) -->
			<div class="flex-1 overflow-y-auto">
				<div class="grid md:grid-cols-[250px_1fr] gap-0">
					<!-- Sidebar Izquierdo -->
					<div class="bg-gray-50 border-r border-gray-200 p-6">
						<nav class="space-y-2">
							<button data-section="modal-privacy" class="sidebar-link w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded bg-gray-200">
								Su privacidad
							</button>
							<button data-section="modal-necessary" class="sidebar-link w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded">
								Cookies estrictamente necesarias
							</button>
							<button data-section="modal-advertising" class="sidebar-link w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded">
								Propias y de terceros para servir publicidad
							</button>
							<button data-section="modal-personalization" class="sidebar-link w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded">
								Cookies de personalizaci√≥n
							</button>
							<button data-section="modal-analytics" class="sidebar-link w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 rounded">
								Cookies de an√°lisis o medici√≥n
							</button>
						</nav>
					</div>

					<!-- Contenido Principal -->
					<div class="p-6">
						<!-- Su privacidad -->
						<section id="modal-privacy" class="modal-section">
							<h3 class="text-xl font-bold text-gray-900 mb-4">Su privacidad</h3>

							<!-- Mensaje de alerta si el usuario rechaz√≥ las cookies -->
							<div id="rejected-cookies-alert" class="hidden bg-red-50 border-l-4 border-red-500 p-4 mb-4">
								<div class="flex items-start">
									<svg class="w-6 h-6 text-red-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
									</svg>
									<div>
										<p class="font-semibold text-red-800 mb-1">Has rechazado las cookies previamente</p>
										<p class="text-sm text-red-700">Actualmente todas las cookies no esenciales est√°n bloqueadas. Puedes cambiar tu configuraci√≥n a continuaci√≥n y guardar tus nuevas preferencias.</p>
									</div>
								</div>
							</div>

							<p class="text-gray-700 leading-relaxed">
								Cuando visita cualquier sitio web, el mismo podr√≠a obtener o guardar informaci√≥n en su navegador, generalmente mediante el uso de cookies. Esta informaci√≥n puede ser acerca de usted, sus preferencias o su dispositivo, y se usa principalmente para que el sitio funcione seg√∫n lo esperado. Por lo general, la informaci√≥n no lo identifica directamente, pero puede proporcionarle una experiencia web m√°s personalizada. Ya que respetamos su derecho a la privacidad, usted puede escoger no permitirnos usar ciertas cookies. Haga clic en los encabezados de cada categor√≠a para saber m√°s y cambiar nuestras configuraciones predeterminadas. Sin embargo, el bloqueo de algunos tipos de cookies puede afectar su experiencia en el sitio y los servicios que podemos ofrecer.
							</p>
						</section>

						<!-- Cookies estrictamente necesarias -->
						<section id="modal-necessary" class="modal-section hidden">
							<div class="flex items-center justify-between mb-4">
								<h3 class="text-xl font-bold text-gray-900">Cookies estrictamente necesarias</h3>
								<span class="text-sm font-semibold text-gray-500">Siempre activas</span>
							</div>
							<p class="text-gray-700 leading-relaxed">
								Estas cookies son esenciales para el funcionamiento del sitio web y no se pueden desactivar. Generalmente se establecen en respuesta a acciones realizadas por usted, como establecer sus preferencias de privacidad, iniciar sesi√≥n o completar formularios.
							</p>
						</section>

						<!-- Cookies de publicidad -->
						<section id="modal-advertising" class="modal-section hidden">
							<div class="flex items-center justify-between mb-4">
								<h3 class="text-xl font-bold text-gray-900">Propias y de terceros para servir publicidad</h3>
								<label class="relative inline-flex items-center cursor-pointer">
									<input type="checkbox" id="advertising-toggle" class="sr-only peer">
									<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
								</label>
							</div>
							<p class="text-gray-700 leading-relaxed">
								Estas cookies permiten mostrar publicidad personalizada basada en sus h√°bitos de navegaci√≥n y preferencias.
							</p>
						</section>

						<!-- Cookies de personalizaci√≥n -->
						<section id="modal-personalization" class="modal-section hidden">
							<div class="flex items-center justify-between mb-4">
								<h3 class="text-xl font-bold text-gray-900">Cookies de personalizaci√≥n</h3>
								<label class="relative inline-flex items-center cursor-pointer">
									<input type="checkbox" id="personalization-toggle" class="sr-only peer">
									<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
								</label>
							</div>
							<p class="text-gray-700 leading-relaxed">
								Estas cookies permiten que el sitio web recuerde las elecciones que hace para proporcionarle funcionalidades mejoradas y contenido personalizado.
							</p>
						</section>

						<!-- Cookies de an√°lisis -->
						<section id="modal-analytics" class="modal-section hidden">
							<div class="flex items-center justify-between mb-4">
								<h3 class="text-xl font-bold text-gray-900">Cookies de an√°lisis o medici√≥n</h3>
								<label class="relative inline-flex items-center cursor-pointer">
									<input type="checkbox" id="analytics-toggle" class="sr-only peer">
									<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
								</label>
							</div>
							<p class="text-gray-700 leading-relaxed">
								Estas cookies nos permiten contar las visitas y fuentes de tr√°fico para poder medir y mejorar el rendimiento de nuestro sitio.
							</p>
						</section>
					</div>
				</div>
			</div>

			<!-- Footer del Modal -->
			<div class="border-t border-gray-200 p-6 bg-gray-50">
				<button id="save-config-btn" class="w-full bg-black hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-lg transition">
					GUARDAR CONFIGURACI√ìN
				</button>
			</div>
		</div>
	</div>
</Layout>

<script>
	// Gesti√≥n de preferencias de cookies
	interface CookiePreferences {
		necessary: boolean;
		analytics: boolean;
		advertising: boolean;
		timestamp: number;
	}

	// Funci√≥n para crear cookies
	function setCookie(name: string, value: string, days: number) {
		const expires = new Date();
		expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
		document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Lax`;
	}

	// Funci√≥n para leer cookies
	function getCookie(name: string): string | null {
		const nameEQ = name + "=";
		const ca = document.cookie.split(';');
		for (let i = 0; i < ca.length; i++) {
			let c = ca[i];
			while (c.charAt(0) === ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
		}
		return null;
	}

	// Funci√≥n para verificar si el usuario rechaz√≥ las cookies
	function checkIfRejected(): boolean {
		const cookieConsent = getCookie('cookieConsent');
		return cookieConsent === 'rejected';
	}

	// Funci√≥n para actualizar la cookie cookieConsent
	function updateCookieConsent(status: 'accepted' | 'rejected' | 'configured') {
		setCookie('cookieConsent', status, 365);
	}

	// ‚ö° APLICAR PREFERENCIAS AL CARGAR LA P√ÅGINA
	function initializeCookies() {
		const savedPrefs = localStorage.getItem('cookiePreferences');
		if (savedPrefs) {
			try {
				const prefs: CookiePreferences = JSON.parse(savedPrefs);
				applyPreferencesFromManager(prefs);
			} catch (e) {
				// Error al cargar preferencias
			}
		}
	}

	// Funci√≥n para guardar preferencias
	function savePreferences(preferences: CookiePreferences) {
		localStorage.setItem('cookiePreferences', JSON.stringify(preferences));
		localStorage.setItem('cookieBannerDismissed', 'true');
		setCookie('cookieConsent', 'configured', 730); // 24 meses

		// Aplicar preferencias usando el sistema de gesti√≥n de cookies
		applyPreferencesFromManager(preferences);

		showNotification('Preferencias guardadas correctamente', 'success');
	}

	// Funci√≥n para aplicar preferencias (carga real de scripts)
	function applyPreferencesFromManager(preferences: CookiePreferences) {
		// COOKIES DE AN√ÅLISIS (Google Analytics)
		if (preferences.analytics) {
			loadGoogleAnalytics();
		} else {
			removeAnalyticsCookies();
		}

		// COOKIES DE PUBLICIDAD (Facebook Pixel, Google Ads)
		if (preferences.advertising) {
			loadAdvertisingScripts();
		} else {
			removeAdvertisingCookies();
		}
	}

	// Cargar Google Analytics REAL
	function loadGoogleAnalytics() {
		// Reemplaza 'G-XXXXXXXXXX' con tu ID real de Google Analytics
		const GA_MEASUREMENT_ID = 'G-XXXXXXXXXX';

		// Cargar el script de Google Analytics
		const script = document.createElement('script');
		script.async = true;
		script.src = `https://www.googletagmanager.com/gtag/js?id=${GA_MEASUREMENT_ID}`;
		document.head.appendChild(script);

		// Inicializar Google Analytics
		window.dataLayer = window.dataLayer || [];
		function gtag(...args: any[]) {
			window.dataLayer.push(args);
		}
		gtag('js', new Date());
		gtag('config', GA_MEASUREMENT_ID);

		// Crear cookies de demostraci√≥n
		setCookie('_ga', 'GA1.2.' + Math.random(), 730);
		setCookie('_gid', 'GA1.2.' + Math.random(), 1);
		setCookie('_gat', 'GA1.2.' + Math.random(), 1);
	}

	// Cargar scripts de publicidad REALES
	function loadAdvertisingScripts() {
		// Facebook Pixel
		const FB_PIXEL_ID = '1234567890'; // Reemplaza con tu ID real

		// Crear cookies de demostraci√≥n PRIMERO
		setCookie('_fbp', 'fb.1.' + Date.now(), 90);
		setCookie('_fbc', 'fb.1.' + Date.now(), 90);
		setCookie('fr', 'fb.fr.' + Date.now(), 90);

		// Cargar Facebook Pixel (opcional, solo si tienes un ID real)
		if (FB_PIXEL_ID !== '1234567890') {
			const fbScript = document.createElement('script');
			fbScript.innerHTML = `
				!function(f,b,e,v,n,t,s)
				{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
				n.callMethod.apply(n,arguments):n.queue.push(arguments)};
				if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
				n.queue=[];t=b.createElement(e);t.async=!0;
				t.src=v;s=b.getElementsByTagName(e)[0];
				s.parentNode.insertBefore(t,s)}(window, document,'script',
				'https://connect.facebook.net/en_US/fbevents.js');
				fbq('init', '${FB_PIXEL_ID}');
				fbq('track', 'PageView');
			`;
			document.head.appendChild(fbScript);
		}
	}

	// Eliminar cookies de an√°lisis
	function removeAnalyticsCookies() {
		const cookiesToDelete = ['_ga', '_gid', '_gat', '_gat_gtag_UA_'];
		cookiesToDelete.forEach(name => {
			document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
		});
	}

	// Eliminar cookies de publicidad
	function removeAdvertisingCookies() {
		const cookiesToDelete = ['_fbp', '_fbc', 'fr', '_gcl_au'];
		cookiesToDelete.forEach(name => {
			document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
		});
	}

	// Funci√≥n para mostrar notificaciones
	function showNotification(message: string, type: 'success' | 'error') {
		const notification = document.createElement('div');
		notification.className = `fixed bottom-8 right-8 p-4 rounded-lg text-white shadow-2xl z-50 min-w-[300px] max-w-md ${
			type === 'success' ? 'bg-green-600' : 'bg-red-600'
		}`;
		notification.style.cssText = 'animation: slideIn 0.3s ease-out;';

		// Crear el contenido con mejor formato
		const content = document.createElement('div');
		content.className = 'flex items-center gap-3';

		const icon = document.createElement('span');
		icon.className = 'text-2xl';
		icon.textContent = type === 'success' ? '‚úÖ' : '‚ùå';

		const text = document.createElement('span');
		text.className = 'text-base font-medium';
		text.textContent = message;

		content.appendChild(icon);
		content.appendChild(text);
		notification.appendChild(content);

		document.body.appendChild(notification);

		setTimeout(() => {
			notification.style.animation = 'slideOut 0.3s ease-in';
			setTimeout(() => {
				notification.remove();
			}, 300);
		}, 3000);
	}

	// ‚ö° INICIALIZAR AL CARGAR LA P√ÅGINA
	initializeCookies();

	// Event Listeners
	document.addEventListener('DOMContentLoaded', () => {
		const acceptAllBtn = document.getElementById('accept-all-btn');
		const rejectAllBtn = document.getElementById('reject-all-btn');
		const configureCookiesBtn = document.getElementById('configure-cookies-btn');
		const exitBtn = document.getElementById('exit-btn');
		const cookieConfigModal = document.getElementById('cookie-config-modal');
		const closeModalBtn = document.getElementById('close-modal-btn');
		const saveConfigBtn = document.getElementById('save-config-btn');
		const advertisingToggle = document.getElementById('advertising-toggle') as HTMLInputElement;
		const personalizationToggle = document.getElementById('personalization-toggle') as HTMLInputElement;
		const analyticsToggle = document.getElementById('analytics-toggle') as HTMLInputElement;

		// üîí Variables para detectar cambios sin guardar
		let hasUnsavedChanges = false;
		let initialTogglesState = {
			analytics: false,
			advertising: false,
			personalization: false
		};

		// Funci√≥n para cambiar de secci√≥n en el modal
		function showModalSection(sectionId: string) {
			// Ocultar todas las secciones
			const allSections = document.querySelectorAll('.modal-section');
			allSections.forEach(section => section.classList.add('hidden'));

			// Mostrar la secci√≥n seleccionada
			const targetSection = document.getElementById(sectionId);
			if (targetSection) {
				targetSection.classList.remove('hidden');
			}

			// Actualizar estado activo en el sidebar
			const allButtons = document.querySelectorAll('.sidebar-link');
			allButtons.forEach(button => {
				button.classList.remove('bg-gray-200');
			});
			const activeButton = document.querySelector(`button[data-section="${sectionId}"]`);
			if (activeButton) {
				activeButton.classList.add('bg-gray-200');
			}
		}

		// Bot√≥n "CONFIGURAR COOKIES" - Abrir modal
		configureCookiesBtn?.addEventListener('click', () => {
			if (cookieConfigModal) {
				cookieConfigModal.classList.remove('hidden');
				// Mostrar la primera secci√≥n por defecto
				showModalSection('modal-privacy');

				// Verificar si el usuario rechaz√≥ las cookies previamente
				const rejectedAlert = document.getElementById('rejected-cookies-alert');
				if (checkIfRejected() && rejectedAlert) {
					rejectedAlert.classList.remove('hidden');
				} else if (rejectedAlert) {
					rejectedAlert.classList.add('hidden');
				}

				// Cargar preferencias actuales
				const savedPrefs = localStorage.getItem('cookiePreferences');
				if (savedPrefs) {
					const prefs: CookiePreferences = JSON.parse(savedPrefs);
					if (advertisingToggle) advertisingToggle.checked = prefs.advertising;
					if (personalizationToggle) personalizationToggle.checked = prefs.advertising; // Usar advertising como personalizaci√≥n
					if (analyticsToggle) analyticsToggle.checked = prefs.analytics;
				}

				// üîí Guardar estado inicial de los toggles
				initialTogglesState = {
					analytics: analyticsToggle?.checked || false,
					advertising: advertisingToggle?.checked || false,
					personalization: personalizationToggle?.checked || false
				};
				hasUnsavedChanges = false;
			}
		});

		// üîí Detectar cambios en los toggles
		[advertisingToggle, personalizationToggle, analyticsToggle].forEach(toggle => {
			toggle?.addEventListener('change', () => {
				const currentState = {
					analytics: analyticsToggle?.checked || false,
					advertising: advertisingToggle?.checked || false,
					personalization: personalizationToggle?.checked || false
				};

				// Verificar si hay cambios
				hasUnsavedChanges =
					currentState.analytics !== initialTogglesState.analytics ||
					currentState.advertising !== initialTogglesState.advertising ||
					currentState.personalization !== initialTogglesState.personalization;
			});
		});

		// Event listeners para los botones del sidebar
		const sidebarButtons = document.querySelectorAll('.sidebar-link');
		sidebarButtons.forEach(button => {
			button.addEventListener('click', () => {
				const sectionId = button.getAttribute('data-section');
				if (sectionId) {
					showModalSection(sectionId);
				}
			});
		});

		// üîí Funci√≥n para cerrar el modal con confirmaci√≥n
		async function closeModalWithConfirmation() {
			if (hasUnsavedChanges) {
				// Usar SweetAlert2 para una mejor UX
				const result = await Swal.fire({
					title: '‚ö†Ô∏è Cambios sin guardar',
					html: `
						<p class="text-gray-700 mb-3">Has modificado tu configuraci√≥n de cookies pero no has guardado los cambios.</p>
						<p class="text-gray-600 text-sm">Si cierras ahora, se perder√°n tus preferencias.</p>
					`,
					icon: 'warning',
					showCancelButton: true,
					confirmButtonColor: '#ef4444',
					cancelButtonColor: '#3b82f6',
					confirmButtonText: 'üóëÔ∏è Cerrar sin guardar',
					cancelButtonText: '‚¨ÖÔ∏è Volver a configurar',
					reverseButtons: true,
					customClass: {
						popup: 'rounded-xl',
						title: 'text-xl font-bold',
						confirmButton: 'px-6 py-3 rounded-lg font-semibold',
						cancelButton: 'px-6 py-3 rounded-lg font-semibold'
					}
				});

				if (!result.isConfirmed) {
					return false;
				}
			}

			if (cookieConfigModal) {
				cookieConfigModal.classList.add('hidden');
				hasUnsavedChanges = false;
			}
			return true;
		}

		// Cerrar modal con bot√≥n X
		closeModalBtn?.addEventListener('click', () => {
			closeModalWithConfirmation();
		});

		// Cerrar modal al hacer clic fuera
		cookieConfigModal?.addEventListener('click', (e) => {
			if (e.target === cookieConfigModal) {
				closeModalWithConfirmation();
			}
		});

		// Guardar configuraci√≥n del modal
		saveConfigBtn?.addEventListener('click', () => {
			const preferences: CookiePreferences = {
				necessary: true,
				analytics: analyticsToggle?.checked || false,
				advertising: advertisingToggle?.checked || false,
				timestamp: Date.now()
			};
			savePreferences(preferences);

			// Actualizar la cookie cookieConsent a "configured"
			updateCookieConsent('configured');

			// Resetear flag de cambios sin guardar
			hasUnsavedChanges = false;

			if (cookieConfigModal) {
				cookieConfigModal.classList.add('hidden');
			}
		});

		// Bot√≥n "SALIR" - Volver a la p√°gina principal
		exitBtn?.addEventListener('click', () => {
			window.location.href = '/';
		});

		// Aceptar todas las cookies
		acceptAllBtn?.addEventListener('click', () => {
			const preferences: CookiePreferences = {
				necessary: true,
				analytics: true,
				advertising: true,
				timestamp: Date.now()
			};
			savePreferences(preferences);
			updateCookieConsent('accepted');
		});

		// Rechazar cookies no esenciales (solo mantener las necesarias)
		rejectAllBtn?.addEventListener('click', () => {
			const preferences: CookiePreferences = {
				necessary: true,
				analytics: false,
				advertising: false,
				timestamp: Date.now()
			};
			savePreferences(preferences);
			updateCookieConsent('rejected');
		});
	});

	// Declaraciones de tipos para TypeScript
	declare global {
		interface Window {
			dataLayer: any[];
			fbq: any;
			_fbq: any;
		}
		const Swal: any;
	}
</script>

<style>


	@keyframes slideIn {
		from {
			transform: translateX(400px);
			opacity: 0;
		}
		to {
			transform: translateX(0);
			opacity: 1;
		}
	}

	@keyframes slideOut {
		from {
			transform: translateX(0);
			opacity: 1;
		}
		to {
			transform: translateX(400px);
			opacity: 0;
		}
	}
</style>

